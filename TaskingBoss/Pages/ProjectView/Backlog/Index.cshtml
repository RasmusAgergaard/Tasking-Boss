@page
@using TaskingBoss.Core
@model TaskingBoss.Pages.ProjectView.Backlog.IndexModel
@{
    Layout = "_ProjectViewLayout";
}

<div class="w-100 text-center">

    <h3>Backlog - @Model.BacklogTasks.Count tasks</h3>
    <a class="btn btn-outline-success btn-sm" asp-page="/Tasks/Edit" asp-route-projectId="@Model.Project.ProjectId">Create new task</a>
    <hr />

</div>

@foreach (var task in Model.BacklogTasks)
{
    <div class="col-sm-6 col-md-6 col-lg-3">
        <div class="card mb-4">
            <div class="card-body">

                <div>
                    @if (task.Priority == TaskPriority.High)
                    {
                        <span class="badge badge-danger">High priority</span>
                    }
                    @if (task.Priority == TaskPriority.Low)
                    {
                        <span class="badge badge-secondary">Low priority</span>
                    }
                </div>

                <div>
                    <span class="w-100">@task.Title</span>
                </div>

                <div>
                    <span class="w-100 small">Story points: @task.StoryPoints</span>
                </div>

                <a asp-page="/Tasks/Detail" asp-route-taskId="@task.TaskItemId" asp-route-projectId="@Model.Project.ProjectId" class="stretched-link"></a>
            </div>
        </div>
    </div>
}